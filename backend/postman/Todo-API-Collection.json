{
  "info": {
    "name": "Todo API - Backend NestJS",
    "description": "Collection completa para testar a API de gerenciamento de tarefas",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "apiUrl",
      "value": "{{baseUrl}}/api",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üìã Tasks CRUD",
      "item": [
        {
          "name": "‚úÖ Criar Nova Tarefa",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Resposta cont√©m ID da tarefa\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.environment.set('taskId', jsonData.id);",
                  "});",
                  "",
                  "pm.test(\"Tarefa criada com t√≠tulo correto\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.title).to.eql('Estudar NestJS');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Estudar NestJS\",\n  \"description\": \"Aprender sobre modules, controllers, services e DTOs no NestJS\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          },
          "response": []
        },
        {
          "name": "üìù Criar Tarefa Apenas com T√≠tulo",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Tarefa simples sem descri√ß√£o\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "üìã Listar Todas as Tarefas",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Resposta √© um array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "üîç Buscar Tarefa por ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Tarefa tem propriedades obrigat√≥rias\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('title');",
                  "    pm.expect(jsonData).to.have.property('completed');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks/{{taskId}}",
              "host": ["{{apiUrl}}"],
              "path": ["tasks", "{{taskId}}"]
            }
          }
        },
        {
          "name": "‚úèÔ∏è Atualizar Tarefa",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"T√≠tulo foi atualizado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.title).to.include('ATUALIZADA');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Estudar NestJS - ATUALIZADA\",\n  \"description\": \"Aprender sobre modules, controllers, services, DTOs e testes no NestJS\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks/{{taskId}}",
              "host": ["{{apiUrl}}"],
              "path": ["tasks", "{{taskId}}"]
            }
          }
        },
        {
          "name": "üîÑ Alternar Status da Tarefa",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Status da tarefa foi alterado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('completed');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks/{{taskId}}/toggle",
              "host": ["{{apiUrl}}"],
              "path": ["tasks", "{{taskId}}", "toggle"]
            }
          }
        },
        {
          "name": "‚ùå Excluir Tarefa",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks/{{taskId}}",
              "host": ["{{apiUrl}}"],
              "path": ["tasks", "{{taskId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üîç Filtros e Buscas",
      "item": [
        {
          "name": "‚úÖ Listar Tarefas Conclu√≠das",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks?filter=completed",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"],
              "query": [
                {
                  "key": "filter",
                  "value": "completed"
                }
              ]
            }
          }
        },
        {
          "name": "‚è≥ Listar Tarefas Pendentes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks?filter=pending",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"],
              "query": [
                {
                  "key": "filter",
                  "value": "pending"
                }
              ]
            }
          }
        },
        {
          "name": "üîé Buscar por Texto",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks?search=NestJS",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"],
              "query": [
                {
                  "key": "search",
                  "value": "NestJS"
                }
              ]
            }
          }
        },
        {
          "name": "üéØ Filtro Combinado",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks?filter=pending&search=estudar",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"],
              "query": [
                {
                  "key": "filter",
                  "value": "pending"
                },
                {
                  "key": "search",
                  "value": "estudar"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üß™ Testes de Valida√ß√£o",
      "item": [
        {
          "name": "‚ùå Criar Tarefa Sem T√≠tulo",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Erro de valida√ß√£o retornado\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Tarefa sem t√≠tulo para testar valida√ß√£o\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "‚ùå Criar Tarefa com T√≠tulo Muito Longo",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Este √© um t√≠tulo extremamente longo que excede o limite de 255 caracteres definido na valida√ß√£o e deve retornar um erro de valida√ß√£o quando enviado para a API, pois queremos testar se o sistema est√° funcionando corretamente e bloqueando t√≠tulos que s√£o muito longos para serem armazenados adequadamente no banco de dados SQLite configurado no backend.\",\n  \"description\": \"Teste de valida√ß√£o\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "‚ùå Buscar Tarefa Inexistente",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/tasks/99999",
              "host": ["{{apiUrl}}"],
              "path": ["tasks", "99999"]
            }
          }
        }
      ]
    },
    {
      "name": "üìä Dados de Teste",
      "item": [
        {
          "name": "üóÇÔ∏è Criar M√∫ltiplas Tarefas",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code √© 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Aprender React\",\n  \"description\": \"Estudar hooks, context e componentes funcionais\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "üìù Criar Tarefa de Trabalho",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Reuni√£o de equipe\",\n  \"description\": \"Discuss√£o sobre o projeto e pr√≥ximos passos\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "üè† Criar Tarefa Pessoal",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Comprar mantimentos\",\n  \"description\": \"Lista: leite, p√£o, ovos, frutas\"\n}"
            },
            "url": {
              "raw": "{{apiUrl}}/tasks",
              "host": ["{{apiUrl}}"],
              "path": ["tasks"]
            }
          }
        }
      ]
    },
    {
      "name": "üåê Health Check",
      "item": [
        {
          "name": "üîå Verificar Servidor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Servidor est√° respondendo\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"],
              "path": [""]
            }
          }
        },
        {
          "name": "üìö Acessar Swagger",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{apiUrl}}/",
              "host": ["{{apiUrl}}"],
              "path": [""]
            }
          }
        }
      ]
    }
  ]
}